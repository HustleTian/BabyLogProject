/** * Sample React Native App * https://github.com/facebook/react-native * @flow */import React, { Component,AsyncStorage } from 'react';import {Navigator} from 'react-native-deprecated-custom-components';import WelcomePage from './view/WelcomePage';import HomePage from './view/HomePage';export default class App extends Component<{}> {	constructor() {		super();		this.pageName = 'WelcomePage';		this.component = WelcomePage;	}	/**	 * 配置场景动画	 * @param route 路由	 * @param routeStack 路由栈	 * @returns {*} 动画	 */	_configureScene(route) {		return Navigator.SceneConfigs.PushFromRight; // 右侧弹出	}		/**	 * 使用动态页面加载	 * @param route 路由	 * @param navigator 导航器	 * @returns {XML} 页面	 */	_renderScene(route, navigator) {		let Component = route.component;		return <Component {...route.params} navigator={navigator} />;	}	/**	 * 同步读取数据判断是否登陆过	 */	async _loadStorage() {		// let _that = this;		try {			let useReadability = await AsyncStorage.getItem('userInforIsLogin_tableKey');			if (useReadability !== null || true) {				const userInfor =  JSON.parse(useReadability) ;				//console.log('(AsyncStorage.getItem) success'+userInfor.email);				if (userInfor.uuid!=null || true) {					this.pageName = 'HomePage';					this.component = HomePage;					return;				}			}		} catch (e) {			console.log('_loadStorage error' + e);		}	}				componentWillMount() {		this._loadStorage();	}		render() {		return (            <Navigator                //指定了默认的页面，也就是启动app之后会看到的第一屏，需要两个参数，name跟component                initialRoute={{name: this.pageName,component: this.component}}                configureScene={route=>this._configureScene(route)}                renderScene={(route, navigator)=>this._renderScene(route,navigator)}/>		);	}}